# 营养健康小程序 MVP - V1.0 产品需求文档 (PRD)

> **文档目的:** 本文档旨在明确定义“营养健康小程序”MVP版本的功能范围、用户流程和核心要求，作为后续设计、开发和测试的唯一依据。

---

## 1. 项目概述 (Project Overview)

*   **产品名称:** 营养健康小程序 (暂定)
*   **产品愿景:** 打造一款极致简单的微信小程序，让老年用户能通过手机拍照，轻松读懂食品包装上的营养成分表，从而做出更健康的饮食选择。
*   **目标用户:** 对健康饮食有需求，但不熟悉智能手机操作或难以阅读小字的老年群体。
*   **核心价值:** 将复杂、细小的营养成分表信息，转化为直观、易懂的健康建议。

## 2. 用户故事 (User Stories)

| 角色 | 我想要... | 以便我能... |
| :--- | :--- | :--- |
| **王大爷 (70岁)** | 打开小程序就能直接拍照，不用进行任何复杂的注册或登录操作 | 快速知道这个食品是不是适合我。 |
| **李阿姨 (65岁)** | 拍下食品包装袋上的营养成分表 | 看看里面的“钠”和“脂肪”含量会不会太高，因为医生让我少吃盐和油。 |
| **张叔叔 (68岁)** | 看到一个非常简单明了的结果，比如用大号字体和醒目的颜色告诉我“推荐”或“注意” | 不用费力去研究那些数字和百分比，一眼就能做出判断。 |

## 3. 功能需求 (Functional Requirements)

### 3.1 核心功能：拍照分析

*   **FR-001: 首页**
    *   **描述:** 小程序启动后的默认页面。
    *   **要求:**
        *   页面设计极致简洁，视觉中心是一个醒目的“拍照分析”按钮。
        *   可包含一个辅助的“从相册选择”按钮。
        *   无需任何形式的用户登录/注册界面，首次使用时自动通过微信静默授权获取 `openid` 作为唯一用户标识。

*   **FR-002: 拍照与图片处理**
    *   **描述:** 引导用户拍摄和上传营养成分表图片。
    *   **要求:**
        *   调用微信原生相机功能。
        *   提供一个简单的取景框，引导用户将营养成分表完整置于框内。
        *   允许用户对拍摄的照片进行简单的裁剪，以提高识别准确率。
        *   支持从用户相册选择已有图片。

*   **FR-003: OCR识别与分析**
    *   **描述:** 后端服务对上传的图片进行处理。
    *   **要求:**
        *   后端接收图片后，调用第三方OCR服务，提取图片中的全部文字。
        *   实现核心分析算法，从OCR结果中智能匹配并提取关键营养素及其数值，如：能量、蛋白质、脂肪、碳水化合物、钠。
        *   根据《GB 28050-2011 食品安全国家标准 预包装食品营养标签通则》中的营养素参考值 (NRV%)，对关键指标进行评估。

*   **FR-004: 结果展示**
    *   **描述:** 向用户清晰地展示分析结果。
    *   **要求:**
        *   **整体评估:** 在页面最顶部，用超大号字体和醒目的“红绿灯”颜色体系给出总体建议：
            *   **绿色 (推荐):** 各项指标均在合理范围。
            *   **黄色 (注意):** 某一项或几项指标偏高，需适量食用。
            *   **红色 (警惕):** 某一项或几项指标严重超标，建议谨慎食用或不吃。
        *   **核心指标解读:**
            *   以大字号列表形式，清晰展示“脂肪”、“钠”、“糖”等核心指标的含量。
            *   在每个指标旁边，同样使用“红/黄/绿”标识，直观反映其水平。
        *   **返回按钮:** 提供一个清晰的“返回”或“再次拍照”按钮，方便用户进行下一次分析。

### 3.2 非核心功能

*   **FR-005: 历史记录 (MVP范围外，V1.1考虑)**
    *   **描述:** 用户可以查看自己过去分析过的食品记录。

## 4. 非功能性需求 (Non-Functional Requirements)

*   **NF-001: 性能 (Performance)**
    *   从用户上传图片到返回结果页面的总时长，80%的情况下应小于10秒。
*   **NF-002: 易用性 (Usability)**
    *   所有界面元素（文字、按钮）必须足够大，对比度足够高，确保老年用户能轻松看清和点击。
    *   交互流程不能超过3步（打开小程序 -> 拍照 -> 查看结果）。
*   **NF-003: 兼容性 (Compatibility)**
    *   兼容近3年内发布的主流iOS和Android机型。

## 5. UI/UX 流程 (User Flow)

```mermaid
graph TD
    A[用户打开小程序] --> B{显示简洁首页};
    B --> C[点击 "拍照分析"];
    C --> D[打开相机/相册];
    D --> E[用户拍照/选择图片];
    E --> F[上传图片并显示加载动画];
    F --> G[后端进行OCR识别与分析];
    G --> H{分析完成};
    H --> I[展示“红绿灯”结果页面];
    I --> J[用户查看结果];
    J --> B
```